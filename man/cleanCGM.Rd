% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cleanCGM.R
\name{cleanCGM}
\alias{cleanCGM}
\title{Full Pipeline for CGM Data Cleaning and Preprocessing}
\usage{
cleanCGM(
  datadir = NULL,
  outputdir = NULL,
  timeCol = NULL,
  glucCol = NULL,
  typeCol = NULL,
  prefix = "",
  suffix = "",
  verbose = TRUE
)
}
\arguments{
\item{datadir}{Character. Path to the directory containing raw CGM files
(supports \code{.txt} and \code{.xlsx}).}

\item{outputdir}{Character. Path where processed data and reports will be stored.}

\item{timeCol}{Character. Name of the column containing timestamps.
If NULL, the function attempts to find it automatically.}

\item{glucCol}{Character. Name of the column containing glucose values.}

\item{typeCol}{Character. Name of the column distinguishing between
"scans" (manual checks) and "historic/time series" (automatic measures).}

\item{suffix}{Character. Optional string to append to output filenames
(e.g., "_v1").}

\item{verbose}{Logical. If \code{TRUE}, prints processing progress and
identified IDs to the console.}
}
\value{
No object is returned to the R environment. The function writes:
\itemize{
\item \code{/scans/}: RData files containing manual scan data.
\item \code{/time series/}: RData files containing automated sensor readings.
\item \code{quality_checks.csv}: A summary of data integrity per subject.
\item \code{quality_check_visualization.pdf}: Visual plots for overlapping sensor sessions.
}
}
\description{
\code{cleanCGM} is the core function of the package. It automates the process of
reading raw Continuous Glucose Monitoring (CGM) files, identifying subjects
via filenames, resolving overlaps between multiple sensor sessions, and
performing quality control checks.
}
\details{
The function expects filenames to follow a specific pattern where the ID is
the second element when split by underscores (e.g., \code{STUDY_ID123_EXTREME.xlsx}).
If the second element is not numeric or doesn't match specific project codes
(ASP, MG, NF, NVS), it defaults to the first element.
}
\section{Process Workflow}{

\enumerate{
\item \strong{ID Extraction}: Parsed from filenames.
\item \strong{Reading}: Imports data using \code{readCGM}.
\item \strong{Validation}: Skips subjects with fewer than 10 recordings.
\item \strong{Overlap Resolution}: If a participant has multiple files, the function
identifies time overlaps and prioritizes newer data or sequential merges.
\item \strong{Quality Control}: Generates a CSV summarizing gaps, duplicates, and overlaps.
\item \strong{Visualization}: If multiple files per ID exist, a PDF is generated to
visualize the merging logic.
}
}

